#pragma warning disable CS0169
using System;
using Xunit;

namespace Trinity.FFI.UnitTests
{
    struct BigStruct
    {
        int F1;
        int F2;
        int F3;
        int F4;
        int F5;
        int F6;
        int F7;
        int F8;
        int F9;
        int F10;
        int F11;
        int F12;
        int F13;
        int F14;
        int F15;
        int F16;
        int F17;
        int F18;
        int F19;
        int F20;
        int F21;
        int F22;
        int F23;
        int F24;
        int F25;
        int F26;
        int F27;
        int F28;
        int F29;
        int F30;
        int F31;
        int F32;
        int F33;
        int F34;
        int F35;
        int F36;
        int F37;
        int F38;
        int F39;
        int F40;
        int F41;
        int F42;
        int F43;
        int F44;
        int F45;
        int F46;
        int F47;
        int F48;
        int F49;
        int F50;
        int F51;
        int F52;
        int F53;
        int F54;
        int F55;
        int F56;
        int F57;
        int F58;
        int F59;
        int F60;
        int F61;
        int F62;
        int F63;
        int F64;
        int F65;
        int F66;
        int F67;
        int F68;
        int F69;
        int F70;
        int F71;
        int F72;
        int F73;
        int F74;
        int F75;
        int F76;
        int F77;
        int F78;
        int F79;
        int F80;
        int F81;
        int F82;
        int F83;
        int F84;
        int F85;
        int F86;
        int F87;
        int F88;
        int F89;
        int F90;
        int F91;
        int F92;
        int F93;
        int F94;
        int F95;
        int F96;
        int F97;
        int F98;
        int F99;
        int F100;
        int F101;
        int F102;
        int F103;
        int F104;
        int F105;
        int F106;
        int F107;
        int F108;
        int F109;
        int F110;
        int F111;
        int F112;
        int F113;
        int F114;
        int F115;
        int F116;
        int F117;
        int F118;
        int F119;
        int F120;
        int F121;
        int F122;
        int F123;
        int F124;
        int F125;
        int F126;
        int F127;
        int F128;
        int F129;
        int F130;
        int F131;
        int F132;
        int F133;
        int F134;
        int F135;
        int F136;
        int F137;
        int F138;
        int F139;
        int F140;
        int F141;
        int F142;
        int F143;
        int F144;
        int F145;
        int F146;
        int F147;
        int F148;
        int F149;
        int F150;
        int F151;
        int F152;
        int F153;
        int F154;
        int F155;
        int F156;
        int F157;
        int F158;
        int F159;
        int F160;
        int F161;
        int F162;
        int F163;
        int F164;
        int F165;
        int F166;
        int F167;
        int F168;
        int F169;
        int F170;
        int F171;
        int F172;
        int F173;
        int F174;
        int F175;
        int F176;
        int F177;
        int F178;
        int F179;
        int F180;
        int F181;
        int F182;
        int F183;
        int F184;
        int F185;
        int F186;
        int F187;
        int F188;
        int F189;
        int F190;
        int F191;
        int F192;
        int F193;
        int F194;
        int F195;
        int F196;
        int F197;
        int F198;
        int F199;
        int F200;
        int F201;
        int F202;
        int F203;
        int F204;
        int F205;
        int F206;
        int F207;
        int F208;
        int F209;
        int F210;
        int F211;
        int F212;
        int F213;
        int F214;
        int F215;
        int F216;
        int F217;
        int F218;
        int F219;
        int F220;
        int F221;
        int F222;
        int F223;
        int F224;
        int F225;
        int F226;
        int F227;
        int F228;
        int F229;
        int F230;
        int F231;
        int F232;
        int F233;
        int F234;
        int F235;
        int F236;
        int F237;
        int F238;
        int F239;
        int F240;
        int F241;
        int F242;
        int F243;
        int F244;
        int F245;
        int F246;
        int F247;
        int F248;
        int F249;
        int F250;
        int F251;
        int F252;
        int F253;
        int F254;
        int F255;
        int F256;
    }

    struct BigStruct2
    {
        int F1;
        int F2;
        int F3;
        int F4;
        int F5;
        int F6;
        int F7;
        int F8;
        int F9;
        int F10;
        int F11;
        int F12;
        int F13;
        int F14;
        int F15;
        int F16;
        int F17;
        int F18;
        int F19;
        int F20;
        int F21;
        int F22;
        int F23;
        int F24;
        int F25;
        int F26;
        int F27;
        int F28;
        int F29;
        int F30;
        int F31;
        int F32;
        int F33;
        int F34;
        int F35;
        int F36;
        int F37;
        int F38;
        int F39;
        int F40;
        int F41;
        int F42;
        int F43;
        int F44;
        int F45;
        int F46;
        int F47;
        int F48;
        int F49;
        int F50;
        int F51;
        int F52;
        int F53;
        int F54;
        int F55;
        int F56;
        int F57;
        int F58;
        int F59;
        int F60;
        int F61;
        int F62;
        int F63;
        int F64;
        int F65;
        int F66;
        int F67;
        int F68;
        int F69;
        int F70;
        int F71;
        int F72;
        int F73;
        int F74;
        int F75;
        int F76;
        int F77;
        int F78;
        int F79;
        int F80;
        int F81;
        int F82;
        int F83;
        int F84;
        int F85;
        int F86;
        int F87;
        int F88;
        int F89;
        int F90;
        int F91;
        int F92;
        int F93;
        int F94;
        int F95;
        int F96;
        int F97;
        int F98;
        int F99;
        int F100;
        int F101;
        int F102;
        int F103;
        int F104;
        int F105;
        int F106;
        int F107;
        int F108;
        int F109;
        int F110;
        int F111;
        int F112;
        int F113;
        int F114;
        int F115;
        int F116;
        int F117;
        int F118;
        int F119;
        int F120;
        int F121;
        int F122;
        int F123;
        int F124;
        int F125;
        int F126;
        int F127;
        int F128;
        int F129;
        int F130;
        int F131;
        int F132;
        int F133;
        int F134;
        int F135;
        int F136;
        int F137;
        int F138;
        int F139;
        int F140;
        int F141;
        int F142;
        int F143;
        int F144;
        int F145;
        int F146;
        int F147;
        int F148;
        int F149;
        int F150;
        int F151;
        int F152;
        int F153;
        int F154;
        int F155;
        int F156;
        int F157;
        int F158;
        int F159;
        int F160;
        int F161;
        int F162;
        int F163;
        int F164;
        int F165;
        int F166;
        int F167;
        int F168;
        int F169;
        int F170;
        int F171;
        int F172;
        int F173;
        int F174;
        int F175;
        int F176;
        int F177;
        int F178;
        int F179;
        int F180;
        int F181;
        int F182;
        int F183;
        int F184;
        int F185;
        int F186;
        int F187;
        int F188;
        int F189;
        int F190;
        int F191;
        int F192;
        int F193;
        int F194;
        int F195;
        int F196;
        int F197;
        int F198;
        int F199;
        int F200;
        int F201;
        int F202;
        int F203;
        int F204;
        int F205;
        int F206;
        int F207;
        int F208;
        int F209;
        int F210;
        int F211;
        int F212;
        int F213;
        int F214;
        int F215;
        int F216;
        int F217;
        int F218;
        int F219;
        int F220;
        int F221;
        int F222;
        int F223;
        int F224;
        int F225;
        int F226;
        int F227;
        int F228;
        int F229;
        int F230;
        int F231;
        int F232;
        int F233;
        int F234;
        int F235;
        int F236;
        int F237;
        int F238;
        int F239;
        int F240;
        int F241;
        int F242;
        int F243;
        int F244;
        int F245;
        int F246;
        int F247;
        int F248;
        int F249;
        int F250;
        int F251;
        int F252;
        int F253;
        int F254;
        int F255;
    }
    public unsafe class ManyFields
    {
        [Fact]
        public void TooManyFieldsInTuple()
        {
            Assert.Throws<TooManyFieldsInTupleException>(() =>
            {
                byte* ptype = TypeCodec.EncodeType<BigStruct>();
            });
        }

        //[Fact]
        //Ignored: coreclr test framework problem
        public void ManyFieldsInTuple()
        {
            byte* ptype = TypeCodec.EncodeType<BigStruct2>();
            Type t = typeof(
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int, int, int, int, int,
                ValueTuple<int, int, int>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>);
            Assert.Equal(t, TypeCodec.DecodeType(ptype));
            TypeCodec.FreeTypeCode(ptype);
        }
    }
}